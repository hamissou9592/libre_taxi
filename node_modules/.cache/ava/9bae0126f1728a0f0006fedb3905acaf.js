'use strict';

var _powerAssertRecorder = function () { function PowerAssertRecorder() { this.captured = []; } PowerAssertRecorder.prototype._capt = function _capt(value, espath) { this.captured.push({ value: value, espath: espath }); return value; }; PowerAssertRecorder.prototype._expr = function _expr(value, source) { var capturedValues = this.captured; this.captured = []; return { powerAssertContext: { value: value, events: capturedValues }, source: source }; }; return PowerAssertRecorder; }(); /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            LibreTaxi, free and open source ride sharing platform.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Copyright (C) 2016-2017  Roman Pushkin
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            This program is free software: you can redistribute it and/or modify
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            it under the terms of the GNU Affero General Public License as
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            published by the Free Software Foundation, either version 3 of the
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            License, or (at your option) any later version.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            This program is distributed in the hope that it will be useful,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            but WITHOUT ANY WARRANTY; without even the implied warranty of
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            GNU Affero General Public License for more details.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            You should have received a copy of the GNU Affero General Public License
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            along with this program.  If not, see <http://www.gnu.org/licenses/>.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        */

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _dns = require('dns');

var _dns2 = _interopRequireDefault(_dns);

var _redis = require('redis');

var _redis2 = _interopRequireDefault(_redis);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_ava2.default.cb('localhost.firebaseio.test should be specified in /etc/hosts', function (t) {
  t.plan(1);
  _dns2.default.lookup('localhost.firebaseio.test', function (err, result) {
    if (!err) {
      var _rec = new _powerAssertRecorder();

      t.is(_rec._expr(_rec._capt(result, 'arguments/0'), {
        content: 't.is(result, \'127.0.0.1\')',
        filepath: 'test/before-all.js',
        line: 27
      }), '127.0.0.1');
    }
    t.end();
  });
});

_ava2.default.cb('redis should be up and running', function (t) {
  var key = 'before_all_test_' + Number(Math.random() * 100000).toFixed(); // make it random
  var client = _redis2.default.createClient({ host: '127.0.0.1', port: 6379, db: 1 });
  t.plan(1);
  client.on('error', function (err) {
    return t.fail(err);
  });
  client.set(key, '31337', function () {
    client.get(key, function (err, value) {
      var _rec2 = new _powerAssertRecorder();

      t.is(_rec2._expr(_rec2._capt(value, 'arguments/0'), {
        content: 't.is(value, \'31337\')',
        filepath: 'test/before-all.js',
        line: 40
      }), '31337');
      client.del(key, function () {
        t.end();
      });
    });
  });
});
//# sourceMappingURL=../node_modules/.cache/ava/9bae0126f1728a0f0006fedb3905acaf.js.map