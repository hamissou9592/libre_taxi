{"version":3,"sources":["redirect-response-test.js"],"names":["path","t","pass","r","is","type","cb","err","throws","end","valid","invalid","i","len","length"],"mappings":";;;;;;weAAA;;;;;;;;;;;;;;;;;;AAkBA;;;AACA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,mBAAK,4CAAL,EAAmD,aAAK;AACtD,iCAAqB,EAAEA,MAAM,SAAR,EAArB;AACAC,IAAEC,IAAF;AACD,CAHD;;AAKA,mBAAK,qDAAL,EAA4D,aAAK;AAAA;AAAA;;AAC/D,MAAMC,IAAI,+BAAqB,EAAEH,MAAM,SAAR,EAArB,CAAV;AACAC,IAAEG,EAAF,uBAAK,oCAAEJ,IAAP;AAAA;AAAA;AAAA;AAAA,MAAa,SAAb;AACAC,IAAEG,EAAF,yBAAK,qCAAEC,IAAP;AAAA;AAAA;AAAA;AAAA,MAAa,UAAb;AACD,CAJD;;AAMA,cAAKC,EAAL,CAAQ,qDAAR,EAA+D,aAAK;AAClE,MAAMC,MAAM,8BAAZ;;AAEAN,IAAEO,MAAF;AAAA,WAAS,YAAM;AACb;AACD,KAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAEGD,GAFH;;AAIAN,IAAEQ,GAAF;AACD,CARD;;AAUA,cAAKH,EAAL,CAAQ,iDAAR,EAA2D,aAAK;AAC9D,MAAMC,MAAM,gBAAZ;;AAEA,MAAMG,QAAQ,CAAC,SAAD,EACZ,eADY,CAAd;;AAIA,MAAMC,UAAU,CACd,WADc,CAAhB;;AAIA;;AAEA,OAAK,IAAIC,IAAI,CAAR,EAAWC,MAAMH,MAAMI,MAA5B,EAAoCF,IAAIC,GAAxC,EAA6CD,GAA7C,EAAkD;AAChD,mCAAqB,EAAEZ,MAAMU,MAAME,CAAN,CAAR,EAArB;AACD;;AAED;;AAjB8D,6BAmBrDA,EAnBqD,EAmB9CC,IAnB8C;AAoB5DZ,MAAEO,MAAF;AAAA,aAAS,YAAM;AACb,uCAAqB,EAAER,MAAMW,QAAQC,EAAR,CAAR,EAArB;AACD,OAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAEGL,GAFH;AApB4D;;AAmB9D,OAAK,IAAIK,KAAI,CAAR,EAAWC,OAAMF,QAAQG,MAA9B,EAAsCF,KAAIC,IAA1C,EAA+CD,IAA/C,EAAoD;AAAA,UAA3CA,EAA2C,EAApCC,IAAoC;AAInD;;AAEDZ,IAAEQ,GAAF;AACD,CA1BD","file":"redirect-response-test.js","sourcesContent":["/*\n    LibreTaxi, free and open source ride sharing platform.\n    Copyright (C) 2016-2017  Roman Pushkin\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as\n    published by the Free Software Foundation, either version 3 of the\n    License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n/* eslint-disable no-new */\nimport test from 'ava';\nimport RedirectResponse from '../../src/responses/redirect-response';\n\ntest('can be constructed with default parameters', t => {\n  new RedirectResponse({ path: 'default' });\n  t.pass();\n});\n\ntest('should save path as property and have redirect type', t => {\n  const r = new RedirectResponse({ path: 'default' });\n  t.is(r.path, 'default');\n  t.is(r.type, 'redirect');\n});\n\ntest.cb('should throw argument error when path not specified', t => {\n  const err = 'path parameter not specified';\n\n  t.throws(() => {\n    new RedirectResponse();\n  }, err);\n\n  t.end();\n});\n\ntest.cb('should throw argument error when path not found', t => {\n  const err = 'path not found';\n\n  const valid = ['default',\n    'select-locale',\n  ];\n\n  const invalid = [\n    '!invalid!',\n  ];\n\n  // should be OK:\n\n  for (let i = 0, len = valid.length; i < len; i++) {\n    new RedirectResponse({ path: valid[i] });\n  }\n\n  // should NOT be OK:\n\n  for (let i = 0, len = invalid.length; i < len; i++) {\n    t.throws(() => {\n      new RedirectResponse({ path: invalid[i] });\n    }, err);\n  }\n\n  t.end();\n});\n"]}