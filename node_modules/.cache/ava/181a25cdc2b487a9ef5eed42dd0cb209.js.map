{"version":3,"sources":["set-my-price-test.js"],"names":["args","r","userKey","arg","foo","orderKey","t","is","type","route","deepEqual","kicker","menuLocation","response","passengerKey","distance","path"],"mappings":";;weAAA;;;;;;;;;;;;;;;;;;AAkBA;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,4BAAiB,CAAC,SAAD,EAAY,KAAZ,CAAjB,EAAqC,UAACA,IAAD,EAAU;AAAE,6BAAeA,IAAf;AAAuB,CAAxE;;AAEA,mBAAK,4CAAL,EAAmD,aAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACtD,MAAMC,IAAI,2BAAe,EAAEC,SAAS,OAAX,EAAoBC,KAAK,EAAEC,KAAK,KAAP,EAAcC,UAAU,UAAxB,EAAzB,EAAf,CAAV;AACAC,IAAEC,EAAF,uBAAK,oCAAEC,IAAP;AAAA;AAAA;AAAA;AAAA,MAAa,aAAb;AACAF,IAAEC,EAAF,yBAAK,qCAAEE,KAAP;AAAA;AAAA;AAAA;AAAA,MAAc,mBAAd;AACAH,IAAEI,SAAF,yBAAY,qCAAEC,MAAd;AAAA;AAAA;AAAA;AAAA,8BAAsB,EAAEC,cAAc,cAAhB,EAAtB;AAAA;AAAA;AAAA;AAAA;AACAN,IAAEI,SAAF,yBAAY,qCAAEP,GAAd;AAAA;AAAA;AAAA;AAAA,8BAAmB,EAAEC,KAAK,KAAP,EAAcC,UAAU,UAAxB,EAAnB;AAAA;AAAA;AAAA;AAAA;AACD,CAND;;AAQA,mBAAK,wDAAL,EAA+D,aAAK;AAAA;AAAA;;AAClE,MAAMQ,WAAW,0BAAW,EAAEC,cAAc,OAAhB,EAAyBC,UAAU,CAAnC,EAAsCV,UAAU,UAAhD,EAAX,EAAyE,EAAEH,SAAS,OAAX,EAAzE,CAAjB;AACA;AACA;AACAI,IAAEI,SAAF,yBAAYG,QAAZ;AAAA;AAAA;AAAA;AAAA,8BAAsB;AACpBL,UAAM,aADc;AAEpBC,WAAO,mBAFa;AAGpBE,wBAAQ,EAAEC,cAAc,cAAhB,EAAR,mCAHoB;AAIpBV,aAAS,OAJW;AAKpBC,qBAAK;AACHW,oBAAc,OADX;AAEHC,gBAAU,CAFP;AAGHC,YAAM,wBAHH;AAIHX,gBAAU;AAJP,KAAL;AALoB,GAAtB;AAAA;AAAA;AAAA;AAAA;AAYD,CAhBD","file":"set-my-price-test.js","sourcesContent":["/*\n    LibreTaxi, free and open source ride sharing platform.\n    Copyright (C) 2016-2017  Roman Pushkin\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Affero General Public License as\n    published by the Free Software Foundation, either version 3 of the\n    License, or (at your option) any later version.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Affero General Public License for more details.\n\n    You should have received a copy of the GNU Affero General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n/* eslint-disable no-new, max-len */\nimport test from 'ava';\nimport setMyPrice, { SetMyPrice } from '../../../../../src/actions/menu/driver/order/buttons/set-my-price';\nimport checkNotNullTest from '../../../../helpers/check-not-null.js';\n\ncheckNotNullTest(['userKey', 'arg'], (args) => { new SetMyPrice(args); });\n\ntest('can be constructed with default parameters', t => {\n  const r = new SetMyPrice({ userKey: 'cli_1', arg: { foo: 'bar', orderKey: 'd3adb33f' } });\n  t.is(r.type, 'call-action');\n  t.is(r.route, 'save-and-redirect');\n  t.deepEqual(r.kicker, { menuLocation: 'driver-index' });\n  t.deepEqual(r.arg, { foo: 'bar', orderKey: 'd3adb33f' });\n});\n\ntest('factory method should return stringified json response', t => {\n  const response = setMyPrice({ passengerKey: 'cli_1', distance: 5, orderKey: 'd3adb33f' }, { userKey: 'cli_2' });\n  // json example:\n  // {\"type\":\"call-action\",\"route\":\"save-and-redirect\",\"kicker\":\"driver-index\",\"userKey\":\"cli_2\",\"arg\":{\"passengerKey\":\"cli_1\",\"distance\":5,\"path\":\"driver-order-set-price\"}}\n  t.deepEqual(response, {\n    type: 'call-action',\n    route: 'save-and-redirect',\n    kicker: { menuLocation: 'driver-index' },\n    userKey: 'cli_2',\n    arg: {\n      passengerKey: 'cli_1',\n      distance: 5,\n      path: 'driver-order-set-price',\n      orderKey: 'd3adb33f',\n    },\n  });\n});\n"]}